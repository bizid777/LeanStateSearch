## 2025-05-09:21:47 UTC – Road-map

### Build & Dependency Management
- [x] Replace Poetry with Hatchling + PEP 621 metadata
  - [x] Update `pyproject.toml`
  - [x] Add `__version__` constant for Hatch
  - [ ] Remove Poetry invocations in docs / scripts
- [x] Switch to `uv` for dependency resolution
  - [ ] Document `uv pip install -e state-search-be`
  - [ ] Add `uv.lock` if desired for reproducibility

### Model Handling
- [x] Create idempotent model downloader (`scripts/setup_model.py`)
- [ ] Integrate model-download into bootstrap Justfile target

### Mathlib Revision Flexibility
- [ ] Introduce `MATHLIB_REV` env var with default `latest`
- [ ] Script to auto-discover latest mathlib git tag
- [ ] Wrapper that (a) downloads premises jsonl for that rev, (b) uploads them, (c) rebuilds vector store
- [ ] Add CLI flag `--rev latest` to backend API (just passes through for now)

### Developer UX
- [ ] Replace `Makefile` with `Justfile` recipes
  - [ ] `just bootstrap` – installs brew deps, uv sync, pnpm install, model download, DB migrations
  - [ ] `just dev` – runs backend + frontend concurrently
- [ ] Commit‐msg & pre-push hooks via `pre-commit`
  - [ ] ruff / mypy / isort / black
  - [ ] pnpm lint for frontend

### Documentation
- [ ] Update top-level `README.md` to reflect new workflow
- [ ] Add how-to for local bare-metal install on macOS
- [ ] Keep `docker` & `nix` sections but mark as optional

### Continuous Integration
- [ ] CI job that uses `uv` to install and runs lint, type-check, and unit tests 